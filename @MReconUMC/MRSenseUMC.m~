function S = MRSenseUMC( MR )
    % 20160616 - Module to load sense maps from Sense Ref Scan + Coil
    % Survey Scan.
    
    % Get locations of CSC/SRS 
    listCSC=dir([MR.ParUMC.Root,'CSC/','*.lab']);
    locCSC=[MR.ParUMC.Root,'CSC/',listCSC.name];
    listSRS=dir([MR.ParUMC.Root,'SRS/','*.lab']);
    locSRS=[MR.ParUMC.Root,'SRS/',listSRS.name];
    
    % Load in the MRecon objects of them
    srs=MRecon(locSRS);
    csc=MRecon(locCSC);
    
    % Reload original data, because MR doesnt work for some reason
    list=dir([MR.ParUMC.TWD,'/','*.lab']);
    T=MRecon([MR.ParUMC.TWD,'/',list.name]);
    
    % These have to change because the function is not very compatible with
    % radial
    T.Parameter.Scan.RecVoxelSize=T.Parameter.Scan.AcqVoxelSize;
    T.Parameter.Encoding.XRes=round(max(T.Parameter.Scan.FOV)/min(T.Parameter.Scan.RecVoxelSize));
    T.Parameter.Encoding.XReconRes=round(max(T.Parameter.Scan.FOV)/min(T.Parameter.Scan.RecVoxelSize));
    T.Parameter.Encoding.YRes=round(max(T.Parameter.Scan.FOV)/min(T.Parameter.Scan.RecVoxelSize));
    T.Parameter.Encoding.YReconRes=round(max(T.Parameter.Scan.FOV)/min(T.Parameter.Scan.RecVoxelSize));
    T.Parameter.Encoding.KyOversampling=1;
    T.Parameter.Encoding.KxOversampling=1;

    % Perform the regular MRsense stuff
    S=MRsense(srs,T,csc);
    clear srs T csc
    S.Mask=1;
    S.Smooth=1;
    S.MatchTargetSize=1;
    S.Extrapolate=1;
    S.Perform;
    
    % Save the coil maps after they are normalized
    csm=flipud(S.Sensitivity);
    csm=csm/max(abs(csm(:)));
    MR.Parameter.Recon.Sensitivities=csm;
    


fprintf('Finished [%.2f sec]\n',toc')

% END
end