%% Check if all the libraries are correctly installed and paths are set
% Check if current working directory is appropriate (needs to be
% ../Modular_Recon_Library/
curdir=pwd;
suc6=1;

if ~strcmpi(curdir(end-17:end),'Main_Recon_Library')
    disp('Warning: Current directory is not set appropriately, should be /../Main_Recon_Library/');suc6=0;
end

% Check if bart toolbox is added to the path
try
    bart;
catch
    if isempty(which('bart'))
        disp('>> BART toolbox is not added to the path');
        suc6=0;
    else
        disp('>> BART toolbox is not installed');
    end
end

% Check if Greengard NUFFT toolbox works
try
    nufft2d1(1,1,1,1,1,1E-15,1,1);
    nufft3d1(1,1,1,1,1,1,1E-15,1,1,1);
catch
    if isempty(which('nufft2d1')) || isempty(which('nufft3d1'))
        disp('Warning: Greengard NUFFT toolbox not fully installed or not added to path');suc6=0;
    end
end

% Check if Fessler NUFFT toolbox works
if isempty(which('nufft_init')) 
    disp('Warning: Fessler NUFFT toolbox not fully installed or not added to path');suc6=0;
end

% Check if Reconframe is added to the path
if isempty(which('MRecon'))
    disp('Warning: Reconframe is not added to the path');suc6=0;
end

% Check if iterative DCF code is added to the path
if isempty(which('sdc3_MAT'))
    disp('Warning: Iterative DCF code is not added to the path');suc6=0;
end

% Succesfull integration
if suc6
    disp('All toolboxes are succesfully installed and included to path')
end

